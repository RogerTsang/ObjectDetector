// ==============================================================
// RTL generated by Vivado(TM) HLS - High-Level Synthesis from C, C++ and SystemC
// Version: 2015.4
// Copyright (C) 2015 Xilinx Inc. All rights reserved.
// 
// ===========================================================

`timescale 1 ns / 1 ps 

module EdgeDetect_Top_ImgPostProcess_0_0_256_256_s (
        ap_clk,
        ap_rst,
        ap_start,
        ap_done,
        ap_continue,
        ap_idle,
        ap_ready,
        p_src_data_stream_V_dout,
        p_src_data_stream_V_empty_n,
        p_src_data_stream_V_read,
        p_dir_data_stream_V_dout,
        p_dir_data_stream_V_empty_n,
        p_dir_data_stream_V_read,
        p_dst_address0,
        p_dst_ce0,
        p_dst_we0,
        p_dst_d0,
        threashold_dout,
        threashold_empty_n,
        threashold_read,
        width,
        height
);

parameter    ap_const_logic_1 = 1'b1;
parameter    ap_const_logic_0 = 1'b0;
parameter    ap_ST_st1_fsm_0 = 7'b1;
parameter    ap_ST_st2_fsm_1 = 7'b10;
parameter    ap_ST_st3_fsm_2 = 7'b100;
parameter    ap_ST_st4_fsm_3 = 7'b1000;
parameter    ap_ST_st5_fsm_4 = 7'b10000;
parameter    ap_ST_st6_fsm_5 = 7'b100000;
parameter    ap_ST_st7_fsm_6 = 7'b1000000;
parameter    ap_const_lv32_0 = 32'b00000000000000000000000000000000;
parameter    ap_const_lv1_1 = 1'b1;
parameter    ap_const_lv32_1 = 32'b1;
parameter    ap_const_lv1_0 = 1'b0;
parameter    ap_const_lv32_2 = 32'b10;
parameter    ap_const_lv32_4 = 32'b100;
parameter    ap_const_lv32_5 = 32'b101;
parameter    ap_const_lv10_0 = 10'b0000000000;
parameter    ap_const_lv32_6 = 32'b110;
parameter    ap_const_lv32_3 = 32'b11;
parameter    ap_const_lv10_1 = 10'b1;
parameter    ap_const_lv32_9 = 32'b1001;
parameter    ap_const_lv9_0 = 9'b000000000;
parameter    ap_const_lv8_0 = 8'b00000000;
parameter    ap_const_lv8_1 = 8'b1;
parameter    ap_const_lv8_2 = 8'b10;
parameter    ap_const_lv31_0 = 31'b0000000000000000000000000000000;
parameter    ap_const_lv11_7FF = 11'b11111111111;
parameter    ap_true = 1'b1;

input   ap_clk;
input   ap_rst;
input   ap_start;
output   ap_done;
input   ap_continue;
output   ap_idle;
output   ap_ready;
input  [7:0] p_src_data_stream_V_dout;
input   p_src_data_stream_V_empty_n;
output   p_src_data_stream_V_read;
input  [7:0] p_dir_data_stream_V_dout;
input   p_dir_data_stream_V_empty_n;
output   p_dir_data_stream_V_read;
output  [15:0] p_dst_address0;
output   p_dst_ce0;
output   p_dst_we0;
output  [0:0] p_dst_d0;
input  [31:0] threashold_dout;
input   threashold_empty_n;
output   threashold_read;
input  [8:0] width;
input  [8:0] height;

reg ap_done;
reg ap_idle;
reg ap_ready;
reg p_src_data_stream_V_read;
reg p_dir_data_stream_V_read;
reg p_dst_ce0;
reg p_dst_we0;
reg threashold_read;
reg    ap_done_reg = 1'b0;
(* fsm_encoding = "none" *) reg   [6:0] ap_CS_fsm = 7'b1;
reg    ap_sig_cseq_ST_st1_fsm_0;
reg    ap_sig_bdd_26;
reg   [31:0] threashold_read_reg_861;
reg    ap_sig_bdd_61;
wire   [9:0] tmp_14_fu_311_p1;
wire   [9:0] tmp_15_fu_315_p2;
wire   [9:0] tmp_17_fu_321_p1;
wire   [9:0] tmp_18_fu_325_p2;
wire   [9:0] q_V_fu_336_p2;
reg   [9:0] q_V_reg_894;
reg    ap_sig_cseq_ST_st2_fsm_1;
reg    ap_sig_bdd_81;
wire   [0:0] tmp_148_i_i_fu_342_p2;
reg   [0:0] tmp_148_i_i_reg_899;
wire   [0:0] exitcond1_fu_331_p2;
wire   [0:0] tmp_150_i_i_fu_363_p2;
reg   [0:0] tmp_150_i_i_reg_904;
wire  signed [17:0] grp_fu_794_p3;
reg  signed [17:0] tmp_152_i_i_reg_909;
wire   [0:0] tmp_fu_373_p2;
reg   [0:0] tmp_reg_914;
wire   [9:0] p_V_fu_384_p2;
reg   [9:0] p_V_reg_922;
reg    ap_sig_cseq_ST_st3_fsm_2;
reg    ap_sig_bdd_102;
wire   [0:0] tmp_154_i_i_fu_390_p2;
reg   [0:0] tmp_154_i_i_reg_927;
wire   [0:0] exitcond_fu_379_p2;
wire   [63:0] tmp_155_i_i_fu_395_p1;
reg   [63:0] tmp_155_i_i_reg_937;
reg   [7:0] lb_val_1_addr_reg_953;
reg    ap_sig_cseq_ST_st5_fsm_4;
reg    ap_sig_bdd_128;
wire   [7:0] dw_val_1_0_1_fu_456_p3;
reg   [7:0] dw_val_1_0_1_reg_966;
reg    ap_sig_cseq_ST_st6_fsm_5;
reg    ap_sig_bdd_140;
wire   [31:0] sw_val_2_0_2_fu_463_p3;
reg   [31:0] sw_val_2_0_2_reg_971;
wire   [31:0] sw_val_1_0_2_fu_470_p3;
reg   [31:0] sw_val_1_0_2_reg_976;
wire   [31:0] sw_val_0_0_2_fu_477_p3;
reg   [31:0] sw_val_0_0_2_reg_981;
wire   [0:0] or_cond5_i_i_fu_505_p2;
reg   [0:0] or_cond5_i_i_reg_986;
wire   [31:0] temp_6_i_fu_715_p3;
reg   [31:0] temp_6_i_reg_990;
reg   [7:0] lb_val_0_address0;
reg    lb_val_0_ce0;
reg    lb_val_0_we0;
wire   [7:0] lb_val_0_d0;
wire   [7:0] lb_val_0_q0;
reg   [7:0] lb_val_1_address0;
reg    lb_val_1_ce0;
reg    lb_val_1_we0;
wire   [7:0] lb_val_1_d0;
wire   [7:0] lb_val_1_q0;
reg   [7:0] lb_val_2_address0;
reg    lb_val_2_ce0;
reg    lb_val_2_we0;
wire   [7:0] lb_val_2_d0;
wire   [7:0] lb_val_2_q0;
reg   [7:0] db_val_0_address0;
reg    db_val_0_ce0;
reg    db_val_0_we0;
wire   [7:0] db_val_0_d0;
wire   [7:0] db_val_0_q0;
wire   [7:0] db_val_1_address0;
reg    db_val_1_ce0;
reg    db_val_1_we0;
wire   [7:0] db_val_1_d0;
reg   [9:0] p_i_i_reg_263;
reg   [9:0] p_4_i_i_reg_274;
reg    ap_sig_cseq_ST_st7_fsm_6;
reg    ap_sig_bdd_213;
wire   [0:0] tmp_22_i_fu_723_p2;
reg   [0:0] edge_weight1_i_i_phi_fu_290_p4;
reg   [0:0] edge_weight1_i_i_reg_286;
reg    ap_sig_cseq_ST_st4_fsm_3;
reg    ap_sig_bdd_228;
wire   [63:0] tmp_156_i_i_fu_416_p1;
wire   [0:0] brmerge_demorgan_i_i_fu_412_p2;
wire   [63:0] tmp_157_i_i_fu_427_p1;
wire  signed [63:0] tmp_161_cast_i_i_fu_758_p1;
wire   [0:0] or_cond6_i_i_fu_734_p2;
reg    ap_sig_bdd_252;
reg   [7:0] dw_val_1_0_fu_80;
reg   [7:0] temp1_1_fu_84;
reg   [7:0] tmp_111_fu_88;
reg   [31:0] sw_val_0_1_fu_92;
reg   [31:0] sw_val_0_1_2_fu_96;
reg   [31:0] temp_fu_100;
reg   [31:0] temp_1_fu_104;
reg   [31:0] sw_val_2_1_fu_108;
reg   [31:0] sw_val_2_1_2_fu_112;
reg   [7:0] dw_val_1_0_2_fu_116;
wire   [8:0] tmp_112_fu_347_p4;
wire   [0:0] icmp_fu_357_p2;
wire   [31:0] sw_val_2_0_fu_444_p1;
wire   [31:0] sw_val_1_0_fu_448_p1;
wire   [31:0] sw_val_0_0_fu_452_p1;
wire   [8:0] tmp_115_fu_484_p4;
wire   [0:0] icmp3_fu_494_p2;
wire   [0:0] tmp1_fu_500_p2;
wire   [0:0] tmp_14_i_fu_537_p2;
wire   [0:0] tmp_17_i_fu_563_p2;
wire   [0:0] tmp_20_i_fu_589_p2;
wire   [30:0] tmp_116_fu_595_p1;
wire   [30:0] p_9_i_fu_599_p3;
wire   [0:0] tmp_21_i_fu_611_p2;
wire   [0:0] tmp_i_fu_519_p2;
wire   [0:0] tmp_i_218_fu_525_p2;
wire   [0:0] sel_tmp15_i_fu_625_p2;
wire   [31:0] p_i_fu_543_p3;
wire   [0:0] tmp_15_i_fu_551_p2;
wire   [0:0] sel_tmp17_i_fu_639_p2;
wire   [0:0] tmp2_fu_645_p2;
wire   [0:0] tmp_13_i_fu_531_p2;
wire   [0:0] sel_tmp19_i_fu_651_p2;
wire   [31:0] p_8_i_fu_569_p3;
wire   [31:0] sel_tmp16_i_fu_631_p3;
wire   [0:0] sel_tmp23_demorgan_i_fu_665_p2;
wire   [0:0] tmp_18_i_fu_577_p2;
wire   [0:0] sel_tmp23_i_fu_671_p2;
wire   [0:0] tmp3_fu_677_p2;
wire   [0:0] tmp_16_i_fu_557_p2;
wire   [0:0] sel_tmp25_i_fu_683_p2;
wire   [31:0] p_9_i_cast_fu_607_p1;
wire   [31:0] sel_tmp20_i_fu_657_p3;
wire   [0:0] sel_tmp31_demorgan_i_fu_697_p2;
wire   [0:0] tmp_19_i_fu_583_p2;
wire   [0:0] sel_tmp31_i_fu_703_p2;
wire   [0:0] sel_tmp32_i_fu_709_p2;
wire   [31:0] p_1_i_fu_617_p3;
wire   [31:0] sel_tmp26_i_fu_689_p3;
wire   [0:0] tmp_159_i_i_fu_728_p2;
wire   [10:0] lhs_V_1_cast_cast_i_i_fu_739_p1;
wire   [10:0] r_V_2_fu_743_p2;
wire  signed [17:0] tmp_160_cast_i_i_fu_749_p1;
(* use_dsp48 = "no" *) wire   [17:0] tmp_161_i_i_fu_753_p2;
wire   [9:0] grp_fu_794_p0;
wire  signed [0:0] grp_fu_794_p1;
wire   [8:0] grp_fu_794_p2;
reg   [6:0] ap_NS_fsm;
wire   [10:0] grp_fu_794_p00;
wire   [17:0] grp_fu_794_p20;


EdgeDetect_Top_ImgProcess_0_0_0_256_256_s_lb_val_0 #(
    .DataWidth( 8 ),
    .AddressRange( 256 ),
    .AddressWidth( 8 ))
lb_val_0_U(
    .clk( ap_clk ),
    .reset( ap_rst ),
    .address0( lb_val_0_address0 ),
    .ce0( lb_val_0_ce0 ),
    .we0( lb_val_0_we0 ),
    .d0( lb_val_0_d0 ),
    .q0( lb_val_0_q0 )
);

EdgeDetect_Top_ImgProcess_0_0_0_256_256_s_lb_val_0 #(
    .DataWidth( 8 ),
    .AddressRange( 256 ),
    .AddressWidth( 8 ))
lb_val_1_U(
    .clk( ap_clk ),
    .reset( ap_rst ),
    .address0( lb_val_1_address0 ),
    .ce0( lb_val_1_ce0 ),
    .we0( lb_val_1_we0 ),
    .d0( lb_val_1_d0 ),
    .q0( lb_val_1_q0 )
);

EdgeDetect_Top_ImgProcess_0_0_0_256_256_s_lb_val_0 #(
    .DataWidth( 8 ),
    .AddressRange( 256 ),
    .AddressWidth( 8 ))
lb_val_2_U(
    .clk( ap_clk ),
    .reset( ap_rst ),
    .address0( lb_val_2_address0 ),
    .ce0( lb_val_2_ce0 ),
    .we0( lb_val_2_we0 ),
    .d0( lb_val_2_d0 ),
    .q0( lb_val_2_q0 )
);

EdgeDetect_Top_ImgProcess_0_0_0_256_256_s_lb_val_0 #(
    .DataWidth( 8 ),
    .AddressRange( 256 ),
    .AddressWidth( 8 ))
db_val_0_U(
    .clk( ap_clk ),
    .reset( ap_rst ),
    .address0( db_val_0_address0 ),
    .ce0( db_val_0_ce0 ),
    .we0( db_val_0_we0 ),
    .d0( db_val_0_d0 ),
    .q0( db_val_0_q0 )
);

EdgeDetect_Top_ImgPostProcess_0_0_256_256_s_db_val_1 #(
    .DataWidth( 8 ),
    .AddressRange( 256 ),
    .AddressWidth( 8 ))
db_val_1_U(
    .clk( ap_clk ),
    .reset( ap_rst ),
    .address0( db_val_1_address0 ),
    .ce0( db_val_1_ce0 ),
    .we0( db_val_1_we0 ),
    .d0( db_val_1_d0 )
);

EdgeDetect_Top_am_addmul_10ns_1s_9ns_18_1 #(
    .ID( 1 ),
    .NUM_STAGE( 1 ),
    .din0_WIDTH( 10 ),
    .din1_WIDTH( 1 ),
    .din2_WIDTH( 9 ),
    .dout_WIDTH( 18 ))
EdgeDetect_Top_am_addmul_10ns_1s_9ns_18_1_U78(
    .din0( grp_fu_794_p0 ),
    .din1( grp_fu_794_p1 ),
    .din2( grp_fu_794_p2 ),
    .dout( grp_fu_794_p3 )
);



always @ (posedge ap_clk) begin : ap_ret_ap_CS_fsm
    if (ap_rst == 1'b1) begin
        ap_CS_fsm <= ap_ST_st1_fsm_0;
    end else begin
        ap_CS_fsm <= ap_NS_fsm;
    end
end

always @ (posedge ap_clk) begin : ap_ret_ap_done_reg
    if (ap_rst == 1'b1) begin
        ap_done_reg <= ap_const_logic_0;
    end else begin
        if ((ap_const_logic_1 == ap_continue)) begin
            ap_done_reg <= ap_const_logic_0;
        end else if (((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1) & ~(exitcond1_fu_331_p2 == ap_const_lv1_0))) begin
            ap_done_reg <= ap_const_logic_1;
        end
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st6_fsm_5) & (ap_const_lv1_0 == or_cond5_i_i_fu_505_p2))) begin
        edge_weight1_i_i_reg_286 <= ap_const_lv1_0;
    end else if (((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6) & ~(ap_const_lv1_0 == or_cond5_i_i_reg_986))) begin
        edge_weight1_i_i_reg_286 <= tmp_22_i_fu_723_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6)) begin
        p_4_i_i_reg_274 <= p_V_reg_922;
    end else if (((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1) & (exitcond1_fu_331_p2 == ap_const_lv1_0))) begin
        p_4_i_i_reg_274 <= ap_const_lv10_0;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) & ~(ap_const_lv1_0 == exitcond_fu_379_p2))) begin
        p_i_i_reg_263 <= q_V_reg_894;
    end else if (((ap_const_logic_1 == ap_sig_cseq_ST_st1_fsm_0) & ~ap_sig_bdd_61)) begin
        p_i_i_reg_263 <= ap_const_lv10_0;
    end
end

always @ (posedge ap_clk) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st6_fsm_5)) begin
        dw_val_1_0_1_reg_966 <= dw_val_1_0_1_fu_456_p3;
        or_cond5_i_i_reg_986 <= or_cond5_i_i_fu_505_p2;
        sw_val_0_0_2_reg_981 <= sw_val_0_0_2_fu_477_p3;
        sw_val_1_0_2_reg_976 <= sw_val_1_0_2_fu_470_p3;
        sw_val_2_0_2_reg_971 <= sw_val_2_0_2_fu_463_p3;
    end
end

always @ (posedge ap_clk) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6)) begin
        dw_val_1_0_2_fu_116 <= dw_val_1_0_1_reg_966;
        sw_val_0_1_2_fu_96 <= sw_val_0_1_fu_92;
        sw_val_0_1_fu_92 <= sw_val_0_0_2_reg_981;
        sw_val_2_1_2_fu_112 <= sw_val_2_1_fu_108;
        sw_val_2_1_fu_108 <= sw_val_2_0_2_reg_971;
        temp_1_fu_104 <= temp_fu_100;
        temp_fu_100 <= sw_val_1_0_2_reg_976;
    end
end

always @ (posedge ap_clk) begin
    if ((~(ap_const_lv1_0 == tmp_154_i_i_reg_927) & (ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252)) begin
        dw_val_1_0_fu_80 <= db_val_0_q0;
        temp1_1_fu_84 <= lb_val_0_q0;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) & (ap_const_lv1_0 == exitcond_fu_379_p2) & ~(ap_const_lv1_0 == tmp_154_i_i_fu_390_p2))) begin
        lb_val_1_addr_reg_953 <= tmp_155_i_i_fu_395_p1;
        tmp_155_i_i_reg_937[9 : 0] <= tmp_155_i_i_fu_395_p1[9 : 0];
    end
end

always @ (posedge ap_clk) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2)) begin
        p_V_reg_922 <= p_V_fu_384_p2;
    end
end

always @ (posedge ap_clk) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1)) begin
        q_V_reg_894 <= q_V_fu_336_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st6_fsm_5) & ~(ap_const_lv1_0 == or_cond5_i_i_fu_505_p2))) begin
        temp_6_i_reg_990 <= temp_6_i_fu_715_p3;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st1_fsm_0) & ~ap_sig_bdd_61)) begin
        threashold_read_reg_861 <= threashold_dout;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & ~ap_sig_bdd_252)) begin
        tmp_111_fu_88 <= p_src_data_stream_V_dout;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1) & (exitcond1_fu_331_p2 == ap_const_lv1_0))) begin
        tmp_148_i_i_reg_899 <= tmp_148_i_i_fu_342_p2;
        tmp_150_i_i_reg_904 <= tmp_150_i_i_fu_363_p2;
        tmp_152_i_i_reg_909 <= grp_fu_794_p3;
        tmp_reg_914 <= tmp_fu_373_p2;
    end
end

always @ (posedge ap_clk) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) & (ap_const_lv1_0 == exitcond_fu_379_p2))) begin
        tmp_154_i_i_reg_927 <= tmp_154_i_i_fu_390_p2;
    end
end

always @ (ap_done_reg or ap_sig_cseq_ST_st2_fsm_1 or exitcond1_fu_331_p2) begin
    if (((ap_const_logic_1 == ap_done_reg) | ((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1) & ~(exitcond1_fu_331_p2 == ap_const_lv1_0)))) begin
        ap_done = ap_const_logic_1;
    end else begin
        ap_done = ap_const_logic_0;
    end
end

always @ (ap_start or ap_sig_cseq_ST_st1_fsm_0) begin
    if ((~(ap_const_logic_1 == ap_start) & (ap_const_logic_1 == ap_sig_cseq_ST_st1_fsm_0))) begin
        ap_idle = ap_const_logic_1;
    end else begin
        ap_idle = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st2_fsm_1 or exitcond1_fu_331_p2) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st2_fsm_1) & ~(exitcond1_fu_331_p2 == ap_const_lv1_0))) begin
        ap_ready = ap_const_logic_1;
    end else begin
        ap_ready = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_26) begin
    if (ap_sig_bdd_26) begin
        ap_sig_cseq_ST_st1_fsm_0 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st1_fsm_0 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_81) begin
    if (ap_sig_bdd_81) begin
        ap_sig_cseq_ST_st2_fsm_1 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st2_fsm_1 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_102) begin
    if (ap_sig_bdd_102) begin
        ap_sig_cseq_ST_st3_fsm_2 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st3_fsm_2 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_228) begin
    if (ap_sig_bdd_228) begin
        ap_sig_cseq_ST_st4_fsm_3 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st4_fsm_3 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_128) begin
    if (ap_sig_bdd_128) begin
        ap_sig_cseq_ST_st5_fsm_4 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st5_fsm_4 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_140) begin
    if (ap_sig_bdd_140) begin
        ap_sig_cseq_ST_st6_fsm_5 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st6_fsm_5 = ap_const_logic_0;
    end
end

always @ (ap_sig_bdd_213) begin
    if (ap_sig_bdd_213) begin
        ap_sig_cseq_ST_st7_fsm_6 = ap_const_logic_1;
    end else begin
        ap_sig_cseq_ST_st7_fsm_6 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or tmp_155_i_i_fu_395_p1 or ap_sig_cseq_ST_st4_fsm_3 or tmp_156_i_i_fu_416_p1) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3)) begin
        db_val_0_address0 = tmp_156_i_i_fu_416_p1;
    end else if ((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2)) begin
        db_val_0_address0 = tmp_155_i_i_fu_395_p1;
    end else begin
        db_val_0_address0 = 'bx;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) | ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252))) begin
        db_val_0_ce0 = ap_const_logic_1;
    end else begin
        db_val_0_ce0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st4_fsm_3 or brmerge_demorgan_i_i_fu_412_p2 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & ~ap_sig_bdd_252)) begin
        db_val_0_we0 = ap_const_logic_1;
    end else begin
        db_val_0_we0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252)) begin
        db_val_1_ce0 = ap_const_logic_1;
    end else begin
        db_val_1_ce0 = ap_const_logic_0;
    end
end

always @ (tmp_154_i_i_reg_927 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if ((~(ap_const_lv1_0 == tmp_154_i_i_reg_927) & (ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252)) begin
        db_val_1_we0 = ap_const_logic_1;
    end else begin
        db_val_1_we0 = ap_const_logic_0;
    end
end

always @ (or_cond5_i_i_reg_986 or ap_sig_cseq_ST_st7_fsm_6 or tmp_22_i_fu_723_p2 or edge_weight1_i_i_reg_286) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6) & ~(ap_const_lv1_0 == or_cond5_i_i_reg_986))) begin
        edge_weight1_i_i_phi_fu_290_p4 = tmp_22_i_fu_723_p2;
    end else begin
        edge_weight1_i_i_phi_fu_290_p4 = edge_weight1_i_i_reg_286;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or tmp_155_i_i_fu_395_p1 or ap_sig_cseq_ST_st4_fsm_3 or tmp_156_i_i_fu_416_p1) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3)) begin
        lb_val_0_address0 = tmp_156_i_i_fu_416_p1;
    end else if ((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2)) begin
        lb_val_0_address0 = tmp_155_i_i_fu_395_p1;
    end else begin
        lb_val_0_address0 = 'bx;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) | ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252))) begin
        lb_val_0_ce0 = ap_const_logic_1;
    end else begin
        lb_val_0_ce0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st4_fsm_3 or brmerge_demorgan_i_i_fu_412_p2 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & ~ap_sig_bdd_252)) begin
        lb_val_0_we0 = ap_const_logic_1;
    end else begin
        lb_val_0_we0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or tmp_155_i_i_fu_395_p1 or lb_val_1_addr_reg_953 or ap_sig_cseq_ST_st4_fsm_3) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3)) begin
        lb_val_1_address0 = lb_val_1_addr_reg_953;
    end else if ((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2)) begin
        lb_val_1_address0 = tmp_155_i_i_fu_395_p1;
    end else begin
        lb_val_1_address0 = 'bx;
    end
end

always @ (ap_sig_cseq_ST_st3_fsm_2 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st3_fsm_2) | ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252))) begin
        lb_val_1_ce0 = ap_const_logic_1;
    end else begin
        lb_val_1_ce0 = ap_const_logic_0;
    end
end

always @ (tmp_154_i_i_reg_927 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if ((~(ap_const_lv1_0 == tmp_154_i_i_reg_927) & (ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252)) begin
        lb_val_1_we0 = ap_const_logic_1;
    end else begin
        lb_val_1_we0 = ap_const_logic_0;
    end
end

always @ (tmp_155_i_i_reg_937 or ap_sig_cseq_ST_st5_fsm_4 or ap_sig_cseq_ST_st4_fsm_3 or tmp_157_i_i_fu_427_p1) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3)) begin
        lb_val_2_address0 = tmp_155_i_i_reg_937;
    end else if ((ap_const_logic_1 == ap_sig_cseq_ST_st5_fsm_4)) begin
        lb_val_2_address0 = tmp_157_i_i_fu_427_p1;
    end else begin
        lb_val_2_address0 = 'bx;
    end
end

always @ (ap_sig_cseq_ST_st5_fsm_4 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st5_fsm_4) | ((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252))) begin
        lb_val_2_ce0 = ap_const_logic_1;
    end else begin
        lb_val_2_ce0 = ap_const_logic_0;
    end
end

always @ (tmp_154_i_i_reg_927 or ap_sig_cseq_ST_st4_fsm_3 or ap_sig_bdd_252) begin
    if ((~(ap_const_lv1_0 == tmp_154_i_i_reg_927) & (ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~ap_sig_bdd_252)) begin
        lb_val_2_we0 = ap_const_logic_1;
    end else begin
        lb_val_2_we0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st4_fsm_3 or brmerge_demorgan_i_i_fu_412_p2 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & ~ap_sig_bdd_252)) begin
        p_dir_data_stream_V_read = ap_const_logic_1;
    end else begin
        p_dir_data_stream_V_read = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st7_fsm_6) begin
    if ((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6)) begin
        p_dst_ce0 = ap_const_logic_1;
    end else begin
        p_dst_ce0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st7_fsm_6 or or_cond6_i_i_fu_734_p2) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st7_fsm_6) & (ap_const_lv1_0 == or_cond6_i_i_fu_734_p2))) begin
        p_dst_we0 = ap_const_logic_1;
    end else begin
        p_dst_we0 = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st4_fsm_3 or brmerge_demorgan_i_i_fu_412_p2 or ap_sig_bdd_252) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st4_fsm_3) & ~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & ~ap_sig_bdd_252)) begin
        p_src_data_stream_V_read = ap_const_logic_1;
    end else begin
        p_src_data_stream_V_read = ap_const_logic_0;
    end
end

always @ (ap_sig_cseq_ST_st1_fsm_0 or ap_sig_bdd_61) begin
    if (((ap_const_logic_1 == ap_sig_cseq_ST_st1_fsm_0) & ~ap_sig_bdd_61)) begin
        threashold_read = ap_const_logic_1;
    end else begin
        threashold_read = ap_const_logic_0;
    end
end
always @ (ap_CS_fsm or ap_sig_bdd_61 or exitcond1_fu_331_p2 or exitcond_fu_379_p2 or ap_sig_bdd_252) begin
    case (ap_CS_fsm)
        ap_ST_st1_fsm_0 : 
        begin
            if (~ap_sig_bdd_61) begin
                ap_NS_fsm = ap_ST_st2_fsm_1;
            end else begin
                ap_NS_fsm = ap_ST_st1_fsm_0;
            end
        end
        ap_ST_st2_fsm_1 : 
        begin
            if (~(exitcond1_fu_331_p2 == ap_const_lv1_0)) begin
                ap_NS_fsm = ap_ST_st1_fsm_0;
            end else begin
                ap_NS_fsm = ap_ST_st3_fsm_2;
            end
        end
        ap_ST_st3_fsm_2 : 
        begin
            if (~(ap_const_lv1_0 == exitcond_fu_379_p2)) begin
                ap_NS_fsm = ap_ST_st2_fsm_1;
            end else begin
                ap_NS_fsm = ap_ST_st4_fsm_3;
            end
        end
        ap_ST_st4_fsm_3 : 
        begin
            if (~ap_sig_bdd_252) begin
                ap_NS_fsm = ap_ST_st5_fsm_4;
            end else begin
                ap_NS_fsm = ap_ST_st4_fsm_3;
            end
        end
        ap_ST_st5_fsm_4 : 
        begin
            ap_NS_fsm = ap_ST_st6_fsm_5;
        end
        ap_ST_st6_fsm_5 : 
        begin
            ap_NS_fsm = ap_ST_st7_fsm_6;
        end
        ap_ST_st7_fsm_6 : 
        begin
            ap_NS_fsm = ap_ST_st3_fsm_2;
        end
        default : 
        begin
            ap_NS_fsm = 'bx;
        end
    endcase
end



always @ (ap_CS_fsm) begin
    ap_sig_bdd_102 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_2]);
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_128 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_4]);
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_140 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_5]);
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_213 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_6]);
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_228 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_3]);
end


always @ (p_src_data_stream_V_empty_n or p_dir_data_stream_V_empty_n or brmerge_demorgan_i_i_fu_412_p2) begin
    ap_sig_bdd_252 = ((~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & (p_dir_data_stream_V_empty_n == ap_const_logic_0)) | (~(ap_const_lv1_0 == brmerge_demorgan_i_i_fu_412_p2) & (p_src_data_stream_V_empty_n == ap_const_logic_0)));
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_26 = (ap_CS_fsm[ap_const_lv32_0] == ap_const_lv1_1);
end


always @ (ap_start or ap_done_reg or threashold_empty_n) begin
    ap_sig_bdd_61 = ((threashold_empty_n == ap_const_logic_0) | (ap_start == ap_const_logic_0) | (ap_done_reg == ap_const_logic_1));
end


always @ (ap_CS_fsm) begin
    ap_sig_bdd_81 = (ap_const_lv1_1 == ap_CS_fsm[ap_const_lv32_1]);
end

assign brmerge_demorgan_i_i_fu_412_p2 = (tmp_148_i_i_reg_899 & tmp_154_i_i_reg_927);

assign db_val_0_d0 = p_dir_data_stream_V_dout;

assign db_val_1_address0 = tmp_155_i_i_reg_937;

assign db_val_1_d0 = db_val_0_q0;

assign dw_val_1_0_1_fu_456_p3 = ((tmp_154_i_i_reg_927[0:0] === 1'b1) ? dw_val_1_0_fu_80 : dw_val_1_0_2_fu_116);

assign exitcond1_fu_331_p2 = (p_i_i_reg_263 == tmp_18_fu_325_p2? 1'b1: 1'b0);

assign exitcond_fu_379_p2 = (p_4_i_i_reg_274 == tmp_15_fu_315_p2? 1'b1: 1'b0);

assign grp_fu_794_p0 = grp_fu_794_p00;

assign grp_fu_794_p00 = p_i_i_reg_263;

assign grp_fu_794_p1 = ap_const_lv11_7FF;

assign grp_fu_794_p2 = grp_fu_794_p20;

assign grp_fu_794_p20 = width;

assign icmp3_fu_494_p2 = (tmp_115_fu_484_p4 != ap_const_lv9_0? 1'b1: 1'b0);

assign icmp_fu_357_p2 = (tmp_112_fu_347_p4 != ap_const_lv9_0? 1'b1: 1'b0);

assign lb_val_0_d0 = p_src_data_stream_V_dout;

assign lb_val_1_d0 = lb_val_0_q0;

assign lb_val_2_d0 = lb_val_1_q0;

assign lhs_V_1_cast_cast_i_i_fu_739_p1 = p_4_i_i_reg_274;

assign or_cond5_i_i_fu_505_p2 = (tmp1_fu_500_p2 & tmp_reg_914);

assign or_cond6_i_i_fu_734_p2 = (tmp_150_i_i_reg_904 | tmp_159_i_i_fu_728_p2);

assign p_1_i_fu_617_p3 = ((tmp_21_i_fu_611_p2[0:0] === 1'b1) ? temp_fu_100 : ap_const_lv32_0);

assign p_8_i_fu_569_p3 = ((tmp_17_i_fu_563_p2[0:0] === 1'b1) ? temp_fu_100 : ap_const_lv32_0);

assign p_9_i_cast_fu_607_p1 = p_9_i_fu_599_p3;

assign p_9_i_fu_599_p3 = ((tmp_20_i_fu_589_p2[0:0] === 1'b1) ? tmp_116_fu_595_p1 : ap_const_lv31_0);

assign p_V_fu_384_p2 = (p_4_i_i_reg_274 + ap_const_lv10_1);

assign p_dst_address0 = tmp_161_cast_i_i_fu_758_p1;

assign p_dst_d0 = edge_weight1_i_i_phi_fu_290_p4;

assign p_i_fu_543_p3 = ((tmp_14_i_fu_537_p2[0:0] === 1'b1) ? temp_fu_100 : ap_const_lv32_0);

assign q_V_fu_336_p2 = (p_i_i_reg_263 + ap_const_lv10_1);

assign r_V_2_fu_743_p2 = ($signed(lhs_V_1_cast_cast_i_i_fu_739_p1) + $signed(ap_const_lv11_7FF));

assign sel_tmp15_i_fu_625_p2 = (tmp_i_fu_519_p2 & tmp_i_218_fu_525_p2);

assign sel_tmp16_i_fu_631_p3 = ((sel_tmp15_i_fu_625_p2[0:0] === 1'b1) ? p_i_fu_543_p3 : ap_const_lv32_0);

assign sel_tmp17_i_fu_639_p2 = (tmp_i_fu_519_p2 ^ ap_const_lv1_1);

assign sel_tmp19_i_fu_651_p2 = (tmp2_fu_645_p2 & tmp_13_i_fu_531_p2);

assign sel_tmp20_i_fu_657_p3 = ((sel_tmp19_i_fu_651_p2[0:0] === 1'b1) ? p_8_i_fu_569_p3 : sel_tmp16_i_fu_631_p3);

assign sel_tmp23_demorgan_i_fu_665_p2 = (tmp_i_fu_519_p2 | tmp_13_i_fu_531_p2);

assign sel_tmp23_i_fu_671_p2 = (sel_tmp23_demorgan_i_fu_665_p2 ^ ap_const_lv1_1);

assign sel_tmp25_i_fu_683_p2 = (tmp3_fu_677_p2 & tmp_16_i_fu_557_p2);

assign sel_tmp26_i_fu_689_p3 = ((sel_tmp25_i_fu_683_p2[0:0] === 1'b1) ? p_9_i_cast_fu_607_p1 : sel_tmp20_i_fu_657_p3);

assign sel_tmp31_demorgan_i_fu_697_p2 = (sel_tmp23_demorgan_i_fu_665_p2 | tmp_16_i_fu_557_p2);

assign sel_tmp31_i_fu_703_p2 = (sel_tmp31_demorgan_i_fu_697_p2 ^ ap_const_lv1_1);

assign sel_tmp32_i_fu_709_p2 = (tmp_19_i_fu_583_p2 & sel_tmp31_i_fu_703_p2);

assign sw_val_0_0_2_fu_477_p3 = ((tmp_154_i_i_reg_927[0:0] === 1'b1) ? sw_val_0_0_fu_452_p1 : sw_val_0_1_fu_92);

assign sw_val_0_0_fu_452_p1 = tmp_111_fu_88;

assign sw_val_1_0_2_fu_470_p3 = ((tmp_154_i_i_reg_927[0:0] === 1'b1) ? sw_val_1_0_fu_448_p1 : temp_fu_100);

assign sw_val_1_0_fu_448_p1 = temp1_1_fu_84;

assign sw_val_2_0_2_fu_463_p3 = ((tmp_154_i_i_reg_927[0:0] === 1'b1) ? sw_val_2_0_fu_444_p1 : sw_val_2_1_fu_108);

assign sw_val_2_0_fu_444_p1 = lb_val_2_q0;

assign temp_6_i_fu_715_p3 = ((sel_tmp32_i_fu_709_p2[0:0] === 1'b1) ? p_1_i_fu_617_p3 : sel_tmp26_i_fu_689_p3);

assign tmp1_fu_500_p2 = (icmp3_fu_494_p2 & tmp_154_i_i_reg_927);

assign tmp2_fu_645_p2 = (tmp_15_i_fu_551_p2 & sel_tmp17_i_fu_639_p2);

assign tmp3_fu_677_p2 = (tmp_18_i_fu_577_p2 & sel_tmp23_i_fu_671_p2);

assign tmp_112_fu_347_p4 = {{p_i_i_reg_263[ap_const_lv32_9 : ap_const_lv32_1]}};

assign tmp_115_fu_484_p4 = {{p_4_i_i_reg_274[ap_const_lv32_9 : ap_const_lv32_1]}};

assign tmp_116_fu_595_p1 = temp_fu_100[30:0];

assign tmp_13_i_fu_531_p2 = (dw_val_1_0_2_fu_116 == ap_const_lv8_1? 1'b1: 1'b0);

assign tmp_148_i_i_fu_342_p2 = (p_i_i_reg_263 < tmp_17_fu_321_p1? 1'b1: 1'b0);

assign tmp_14_fu_311_p1 = width;

assign tmp_14_i_fu_537_p2 = ($signed(temp_fu_100) > $signed(sw_val_2_1_fu_108)? 1'b1: 1'b0);

assign tmp_150_i_i_fu_363_p2 = (p_i_i_reg_263 == ap_const_lv10_0? 1'b1: 1'b0);

assign tmp_154_i_i_fu_390_p2 = (p_4_i_i_reg_274 < tmp_14_fu_311_p1? 1'b1: 1'b0);

assign tmp_155_i_i_fu_395_p1 = p_4_i_i_reg_274;

assign tmp_156_i_i_fu_416_p1 = p_4_i_i_reg_274;

assign tmp_157_i_i_fu_427_p1 = p_4_i_i_reg_274;

assign tmp_159_i_i_fu_728_p2 = (p_4_i_i_reg_274 == ap_const_lv10_0? 1'b1: 1'b0);

assign tmp_15_fu_315_p2 = (tmp_14_fu_311_p1 + ap_const_lv10_1);

assign tmp_15_i_fu_551_p2 = ($signed(temp_fu_100) > $signed(sw_val_1_0_2_fu_470_p3)? 1'b1: 1'b0);

assign tmp_160_cast_i_i_fu_749_p1 = $signed(r_V_2_fu_743_p2);

assign tmp_161_cast_i_i_fu_758_p1 = $signed(tmp_161_i_i_fu_753_p2);

assign tmp_161_i_i_fu_753_p2 = ($signed(tmp_152_i_i_reg_909) + $signed(tmp_160_cast_i_i_fu_749_p1));

assign tmp_16_i_fu_557_p2 = (dw_val_1_0_2_fu_116 == ap_const_lv8_2? 1'b1: 1'b0);

assign tmp_17_fu_321_p1 = height;

assign tmp_17_i_fu_563_p2 = ($signed(temp_fu_100) > $signed(temp_1_fu_104)? 1'b1: 1'b0);

assign tmp_18_fu_325_p2 = (tmp_17_fu_321_p1 + ap_const_lv10_1);

assign tmp_18_i_fu_577_p2 = ($signed(temp_fu_100) > $signed(sw_val_2_1_2_fu_112)? 1'b1: 1'b0);

assign tmp_19_i_fu_583_p2 = ($signed(temp_fu_100) > $signed(sw_val_2_0_2_fu_463_p3)? 1'b1: 1'b0);

assign tmp_20_i_fu_589_p2 = ($signed(temp_fu_100) > $signed(sw_val_0_0_2_fu_477_p3)? 1'b1: 1'b0);

assign tmp_21_i_fu_611_p2 = ($signed(temp_fu_100) > $signed(sw_val_0_1_2_fu_96)? 1'b1: 1'b0);

assign tmp_22_i_fu_723_p2 = ($signed(temp_6_i_reg_990) > $signed(threashold_read_reg_861)? 1'b1: 1'b0);

assign tmp_fu_373_p2 = (icmp_fu_357_p2 & tmp_148_i_i_fu_342_p2);

assign tmp_i_218_fu_525_p2 = ($signed(temp_fu_100) > $signed(sw_val_0_1_fu_92)? 1'b1: 1'b0);

assign tmp_i_fu_519_p2 = (dw_val_1_0_2_fu_116 == ap_const_lv8_0? 1'b1: 1'b0);
always @ (posedge ap_clk) begin
    tmp_155_i_i_reg_937[63:10] <= 54'b000000000000000000000000000000000000000000000000000000;
end



endmodule //EdgeDetect_Top_ImgPostProcess_0_0_256_256_s

